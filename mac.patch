From 1705a825f0921beed2ebe01bbf0995505df902c6 Mon Sep 17 00:00:00 2001
From: Omar Amin <65174210+omaramin-2000@users.noreply.github.com>
Date: Mon, 29 Sep 2025 21:29:06 +0300
Subject: [PATCH] Allow a fixed MAC address via environment variable:

---
 linux_voice_assistant/util.py | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/linux_voice_assistant/util.py b/linux_voice_assistant/util.py
index 92726ef..8067687 100644
--- a/linux_voice_assistant/util.py
+++ b/linux_voice_assistant/util.py
@@ -4,9 +4,15 @@
 import uuid
 from collections.abc import Callable
 from typing import Optional
+import os
 
 
 def get_mac() -> str:
+    # Check for fixed MAC in environment variable
+    mac_env = os.getenv("FIXED_MAC_ADDRESS")
+    if mac_env:
+        return mac_env.lower()
+    # Fallback to uuid.getnode()
     mac = uuid.getnode()
     mac_str = ":".join(f"{(mac >> i) & 0xff:02x}" for i in range(40, -1, -8))
     return mac_str
